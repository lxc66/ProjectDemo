///platform/component/progressbar/jquery.progressbar.js
!function(e){e.extend({progressBar:new function(){this.defaults={steps:20,stepDuration:20,max:100,showText:!0,textFormat:"percentage",width:121,height:12,callback:null,boxImage:com.ue.global.path+"/platform/component/progressbar/images/progressbar.gif",barImage:{0:com.ue.global.path+"/platform/component/progressbar/images/progressbg_green.gif"},running_value:0,value:0,animated:!0,image:null},this.construct=function(n,a){var t=null,r=null;return null!=n&&(isNaN(n)?r=n:(t=n,null!=a&&(r=a))),this.each(function(){function n(e){return 100*e.running_value/e.max}function a(e){var n=e.barImage;if("object"==typeof e.barImage)for(var a in e.barImage){if(!(e.running_value>=parseInt(a)))break;n=e.barImage[a]}return n}function i(e){if(e.showText){if("percentage"==e.textFormat)return" "+Math.round(100*e.running_value)/100+"%";if("fraction"==e.textFormat)return" "+e.running_value+"/"+e.max}}var l=this,u=this.config;if(null!=t&&null!=this.bar&&null!=this.config)this.config.value=parseFloat(t),null!=r&&(l.config=e.extend(this.config,r)),u=l.config;else{var c=e(this),u=e.extend({},e.progressBar.defaults,r);u.id=c.attr("id")?c.attr("id"):Math.ceil(1e5*Math.random()),null==t&&(t=c.html().replace("%","")),u.value=parseFloat(t),u.running_value=0,u.image=a(u);for(var g=["steps","stepDuration","max","width","height","running_value","value"],s=0;s<g.length;s++)u[g[s]]=parseFloat(u[g[s]]);c.html("");var o=document.createElement("img"),m=document.createElement("span"),p=e(o),d=e(m);l.bar=p,p.attr("id",u.id+"_pbImage"),d.attr("id",u.id+"_pbText"),d.html(i(u)),p.attr("title",i(u)),p.attr("alt",i(u)),p.attr("src",u.boxImage),p.attr("width",u.width),p.css("width",u.width+"px"),p.css("height",u.height+"px"),p.css("background-image","url("+u.image+")"),p.css("background-position",-1*u.width+"px 50%"),p.css("padding","0"),p.css("margin","0"),c.append(p),c.append(d)}if(u.increment=Math.round((u.value-u.running_value)/u.steps),u.increment<0&&(u.increment*=-1),u.increment<1&&(u.increment=1),u.animated)var v=setInterval(function(){var t=u.width/100;u.running_value>u.value?u.running_value-u.increment<u.value?u.running_value=u.value:u.running_value-=u.increment:u.running_value<u.value&&(u.running_value+u.increment>u.value?u.running_value=u.value:u.running_value+=u.increment),u.running_value==u.value&&clearInterval(v);var r=e("#"+u.id+"_pbImage"),c=e("#"+u.id+"_pbText"),g=a(u);g!=u.image&&(r.css("background-image","url("+g+")"),u.image=g),r.css("background-position",-1*u.width+n(u)*t+"px 50%"),r.attr("title",i(u)),c.html(i(u)),null!=u.callback&&"function"==typeof u.callback&&u.callback(u),l.config=u},u.stepDuration);else{var h=u.width/100;u.running_value=u.value;var p=e("#"+u.id+"_pbImage"),d=e("#"+u.id+"_pbText"),f=a(u);f!=u.image&&(p.css("background-image","url("+f+")"),u.image=f),p.css("background-position",-1*u.width+n(u)*h+"px 50%"),p.attr("title",i(u)),d.html(i(u)),null!=u.callback&&"function"==typeof u.callback&&u.callback(u)}})}}}),e.fn.extend({progressBar:e.progressBar.construct})}(jQuery);
;